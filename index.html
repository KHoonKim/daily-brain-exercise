<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no,viewport-fit=cover">
<title>매일매일 두뇌운동</title>
<link rel="icon" type="image/png" href="favicon.png">
<link rel="apple-touch-icon" href="apple-touch-icon.png">
<meta property="og:image" content="https://littlesunnydays.com/appintos/brain-fit/icon-512.png">
<meta property="og:title" content="매일매일 두뇌운동">
<meta property="og:description" content="38가지 두뇌 훈련 게임으로 매일 두뇌를 운동하세요!">
<link rel="preconnect" href="https://cdn.jsdelivr.net">
<link rel="stylesheet" href="src/styles/main.css?v=127">
</head>
<body>
<div class="app" id="app">

<div class="toast" id="toast"></div>
<div class="snackbar" id="snackbar"><div class="snackbar-inner" id="snackbar-inner"></div></div>

<!-- ===== HOME (ORIGINAL DESIGN) ===== -->
<div id="homeScreen" class="home screen active">
  <div class="home-header">
    <h1><img src="icon-192.png" style="width:28px;height:28px;vertical-align:-6px;border-radius:6px"> 매일매일 두뇌운동</h1>
    <div class="home-header-r">
      <div id="streakBadge" style="display:none"></div>
      <span id="pointDisplay" style="display:none"></span>
      <span id="ticketCount" class="tds-badge tds-badge-sm tds-badge-fill-blue" style="display:inline-flex;align-items:center;gap:4px;cursor:pointer" onclick="showTicketShop()"><img src="https://static.toss.im/2d-emojis/svg/u1F39F.svg" style="width:13px;height:13px"><span id="ticketNum"></span></span>
    </div>
  </div>

  <!-- Daily Workout (Primary - TOP) -->
  <div id="dailyWorkout"></div>

  <!-- Point Progress -->
  <div style="background:var(--card);border-radius:var(--r16);padding:16px;margin-bottom:12px;box-shadow:var(--shadow)">
    <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:8px">
      <div style="font-size:14px;font-weight:800">두뇌점수 모으기</div>
      <div style="font-size:14px;font-weight:800;color:#3182F6" id="pointProgress">0 / 100점</div>
    </div>
    <div style="height:4px;background:rgba(25,31,40,.06);border-radius:2px;overflow:hidden">
      <div id="pointBar" style="height:100%;background:#3182F6;border-radius:2px;transition:width .5s cubic-bezier(.32,.72,0,1);width:0%"></div>
    </div>
    <div id="streakLabel" style="display:none"></div>
    <div style="font-size:12px;color:var(--sub);margin-top:4px">100점이 모이면 100원으로 교환할 수 있어요</div>
    <button class="btn btn-combo" id="exchangeBtn" onclick="exchangePoints()" disabled style="width:100%;margin:10px 0 0;padding:12px;font-size:15px;font-weight:700">100원 받기</button>
  </div>
  <div id="streakDays" style="display:none"></div>

  <!-- Profile Summary -->
  <div style="background:var(--card);border-radius:var(--r16);padding:20px 16px 14px;margin-bottom:12px;box-shadow:var(--shadow)">
    <div style="display:flex;align-items:center;margin-bottom:12px">
      <div style="flex:1;text-align:center">
        <div style="font-size:12px;color:var(--sub);margin-bottom:4px">나의 두뇌 나이</div>
        <div style="font-size:36px;font-weight:900" id="rankName">100세</div>
      </div>
      <div style="width:1px;height:48px;background:var(--border)"></div>
      <div style="flex:1;text-align:center">
        <div style="font-size:12px;color:var(--sub);margin-bottom:4px">종합 순위</div>
        <div style="font-size:36px;font-weight:900;color:var(--purple)" id="overallPct">--%</div>
      </div>
    </div>
    <div class="xp-bar" style="margin-top:12px">
      <div class="xp-bar-label" style="display:flex;justify-content:space-between;font-size:11px;color:var(--sub);margin-bottom:6px"><span id="xpCur">0 XP</span><span id="xpMax">200 XP</span></div>
      <div class="xp-bar-track" style="height:4px;border-radius:2px;background:rgba(25,31,40,.06);overflow:hidden"><div class="xp-bar-fill" id="xpFill" style="height:100%;border-radius:2px;background:#3182F6;transition:width .5s cubic-bezier(.32,.72,0,1);width:0%"></div></div>
    </div>
    <div id="rankNext" style="display:none"></div>
  </div>

  <!-- Missions -->
  <div class="section-title"><img src="https://static.toss.im/2d-emojis/svg/u1F3AF.svg" style="width:16px;height:16px;vertical-align:-3px"> 오늘의 챌린지 <span class="st-sub" id="missionCount">0/5</span></div>
  <div id="missionList"></div>

  <!-- Free Training -->
  <div class="section-title"><img src="https://static.toss.im/2d-emojis/svg/u1F3AE.svg" style="width:16px;height:16px;vertical-align:-3px"> 자유 훈련</div>
  <div id="gameGrid"></div>
</div>

<!-- ===== OVERLAYS & SCREENS ===== -->
<div class="screen" id="leaderboardScreen">
  <div class="g-hdr"><button class="back" onclick="goHome()">←</button><span class="g-title" id="lb-title">순위</span><div style="width:24px"></div></div>
  <div class="lb-container"><div class="lb-list" id="lb-list"></div></div>
</div>

<div class="screen" id="ticketShop">
  <div class="g-hdr"><button class="back" onclick="goHome()">←</button><span class="g-title">티켓 충전</span></div>
  <div class="g-body" style="padding:24px 20px;text-align:center">
    <div style="margin:20px 0 16px"><img src="https://static.toss.im/2d-emojis/svg/u1F39F.svg" style="width:72px;height:72px"></div>
    <div id="ts-count" style="font-size:40px;font-weight:800;color:var(--p);margin-bottom:24px">0장</div>
    <button class="btn btn-primary" onclick="ticketAdRefill()" style="width:100%;padding:16px;font-size:16px">광고 보고 티켓 받기</button>
  </div>
</div>

<div class="heart-overlay" id="ticketModal" style="display:none;z-index:1001">
  <div class="heart-card">
    <div style="margin-bottom:12px"><img src="https://static.toss.im/2d-emojis/svg/u1F39F.svg" style="width:48px;height:48px"></div>
    <div style="font-size:18px;font-weight:800;margin-bottom:6px">티켓이 부족해요</div>
    <button class="btn btn-primary" id="ticketAdBtn">광고보고 바로 시작하기</button>
    <button class="btn btn-home" onclick="closeTicketModal()">돌아가기</button>
  </div>
</div>

<div class="overlay" id="overlay">
  <div class="result-sheet">
    <div class="r-handle"></div>
    <div style="background:var(--card);border-radius:var(--r16);padding:24px 20px 16px;margin-bottom:14px;box-shadow:var(--shadow)">
      <h3 id="r-title">훈련 완료!</h3>
      <div class="r-score" id="r-score">0</div>
      <div class="r-cat" id="r-cat"></div>
      <div style="display:flex;gap:6px;justify-content:center;flex-wrap:wrap"><div class="r-xp hide" id="r-xp">+0 XP</div><div class="r-xp hide" id="r-pt" style="background:var(--p)">+0 두뇌점수</div></div>
      <div class="r-stats" id="r-stats"></div>
    </div>
    <div id="r-science" style="background:var(--card);border-radius:var(--r12);padding:14px 16px;margin-bottom:12px;text-align:left;border:1px solid var(--border)">
      <div style="font-size:13px;font-weight:700;color:var(--p);margin-bottom:4px" id="r-sci-title">두뇌 상식</div>
      <div style="font-size:12px;color:var(--sub);line-height:1.5" id="r-sci-desc"></div>
    </div>
    <button class="btn btn-primary" id="r-main-btn" onclick="replayGame()" style="width:100%;font-size:17px;padding:16px;font-weight:800;margin-bottom:12px">광고보고 한 번 더 도전하기</button>
    <button class="btn btn-home" onclick="goHomeFromResult()">홈으로</button>
  </div>
</div>

<!-- 게임 화면들 생략... (이후 JS 로드 로직으로 이어짐) -->
<div class="screen" id="game-math">
  <div class="g-hdr"><button class="back" onclick="goHome()">←</button><span class="g-title">암산</span><div class="hearts" id="math-hearts"></div><span class="g-timer" id="math-timer">60s</span></div>
  <div class="g-body">
    <div class="g-score" id="math-score">0점</div><div class="combo-text" id="math-combo"></div>
    <div class="math-problem" id="math-problem"><span class="m-num" id="math-a">0</span><span class="m-op" id="math-op">+</span><span class="m-num" id="math-b">0</span><span class="m-eq">=</span><span class="m-ans" id="math-ans">?</span></div>
    <div class="numpad">
      <button class="nbtn" onclick="mathPress(1)">1</button><button class="nbtn" onclick="mathPress(2)">2</button><button class="nbtn" onclick="mathPress(3)">3</button><button class="nbtn" onclick="mathPress(4)">4</button>
      <button class="nbtn" onclick="mathPress(5)">5</button><button class="nbtn" onclick="mathPress(6)">6</button><button class="nbtn" onclick="mathPress(7)">7</button><button class="nbtn" onclick="mathPress(8)">8</button>
      <button class="nbtn" onclick="mathPress(9)">9</button><button class="nbtn" onclick="mathPress(0)">0</button><button class="nbtn del" onclick="mathDel()">⌫</button><button class="nbtn go" onclick="mathSubmit()">확인</button>
    </div>
  </div>
</div>

<!-- 나머지 37개 게임 화면들 마크업... (생략 및 JS로 처리) -->

<script src="src/core/ait.js?v=127"></script>
<script src="src/core/config.js?v=127"></script>
<script src="src/core/utils.js?v=127"></script>
<script src="src/core/workout.js?v=127"></script>
<script src="src/core/ticket.js?v=127"></script>
<script src="src/ui/game_common.js?v=127"></script>
<script src="src/ui/home.js?v=127"></script>
<script src="src/ui/result.js?v=127"></script>
<script src="src/ui/leaderboard.js?v=127"></script>
<script src="src/games/math.js?v=127"></script>
<script src="src/games/memory.js?v=127"></script>
<script src="src/games/sequence.js?v=127"></script>
<script src="src/games/stroop.js?v=127"></script>
<script src="src/games/reaction.js?v=127"></script>
<script src="src/games/word.js?v=127"></script>
<script src="src/games/pattern.js?v=127"></script>
<script src="src/games/focus.js?v=127"></script>
<script src="src/games/rotate.js?v=127"></script>
<script src="src/games/reverse.js?v=127"></script>
<script src="src/games/numtouch.js?v=127"></script>
<script src="src/games/rhythm.js?v=127"></script>
<script src="src/games/rps.js?v=127"></script>
<script src="src/games/oddone.js?v=127"></script>
<script src="src/games/compare.js?v=127"></script>
<script src="src/games/bulb.js?v=127"></script>
<script src="src/games/colormix.js?v=127"></script>
<script src="src/games/wordcomp.js?v=127"></script>
<script src="src/games/timing.js?v=127"></script>
<script src="src/games/matchpair.js?v=127"></script>
<script src="src/games/headcount.js?v=127"></script>
<script src="src/games/pyramid.js?v=127"></script>
<script src="src/games/maxnum.js?v=127"></script>
<script src="src/games/signfind.js?v=127"></script>
<script src="src/games/coincount.js?v=127"></script>
<script src="src/games/clock.js?v=127"></script>
<script src="src/games/wordmem.js?v=127"></script>
<script src="src/games/blockcount.js?v=127"></script>
<script src="src/games/flanker.js?v=127"></script>
<script src="src/games/memgrid.js?v=127"></script>
<script src="src/games/nback.js?v=127"></script>
<script src="src/games/scramble.js?v=127"></script>
<script src="src/games/serial.js?v=127"></script>
<script src="src/games/leftright.js?v=127"></script>
<script src="src/games/calccomp.js?v=127"></script>
<script src="src/games/flash.js?v=127"></script>
<script src="src/games/sort.js?v=127"></script>
<script src="src/games/mirror.js?v=127"></script>

<script>
window.addEventListener('DOMContentLoaded', () => {
  renderHome();
});
</script>
</body>
</html>
